<!DOCTYPE html>
<!-- =====================================================
     ØµÙØ­Ø© Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© - Pending Approval Page
     Ù„Ù„ØªØ¬Ø§Ø± Ø§Ù„Ø°ÙŠÙ† ÙŠÙ†ØªØ¸Ø±ÙˆÙ† Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ±
     ===================================================== -->
<html lang="ar" dir="rtl">

<head>
    <!-- ØªØ±Ù…ÙŠØ² Ø§Ù„Ø£Ø­Ø±Ù UTF-8 Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© -->
    <meta charset="UTF-8">

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© -->
    <title>LibyaParts | ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©</title>

    <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Tailwind CSS Ù…Ù† CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø®Ø· Cairo Ù…Ù† Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- =====================================================
         Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ù…Ø®ØµØµØ©
         ===================================================== -->
    <style>
        /* ØªØ·Ø¨ÙŠÙ‚ Ø®Ø· Cairo Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
        * {
            font-family: 'Cairo', sans-serif;
        }

        /* Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© */
        body {
            background: linear-gradient(135deg, #121212 0%, #1a1a2e 50%, #0f0f23 100%);
            min-height: 100vh;
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø²Ø¬Ø§Ø¬ (Glassmorphism) Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø­Ø§ÙØ© Ø§Ù„Ù…Ø¶ÙŠØ¦Ø© Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠØ© */
        .glow-orange {
            box-shadow: 0 0 30px rgba(245, 158, 11, 0.3),
                0 0 60px rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .hourglass {
            animation: flip 2s ease-in-out infinite;
        }

        @keyframes flip {

            0%,
            100% {
                transform: rotate(0deg);
            }

            50% {
                transform: rotate(180deg);
            }
        }

        /* Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .loading-dots span {
            animation: blink 1.4s infinite both;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes blink {

            0%,
            80%,
            100% {
                opacity: 0;
            }

            40% {
                opacity: 1;
            }
        }
    </style>
</head>

<body class="flex items-center justify-center p-4">

    <!-- =====================================================
         Ø¨Ø·Ø§Ù‚Ø© Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
         ===================================================== -->
    <div class="text-center max-w-lg">
        <!-- Ø§Ù„Ø´Ø¹Ø§Ø± -->
        <div class="mb-8">
            <div class="inline-flex items-center justify-center w-24 h-24 rounded-2xl glass-card glow-orange mb-4">
                <i class="fas fa-hourglass-half text-5xl text-orange-400 hourglass"></i>
            </div>

            <h1 class="text-3xl font-extrabold text-white mb-2">
                Libya<span
                    class="text-transparent bg-clip-text bg-gradient-to-l from-blue-400 to-green-400">Parts</span>
            </h1>
        </div>

        <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± -->
        <div class="glass-card glow-orange rounded-3xl p-8">
            <h2 class="text-2xl font-bold text-white mb-4">
                Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
            </h2>

            <p class="text-gray-400 mb-6 leading-relaxed">
                Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³Ø¬ÙŠÙ„Ùƒ ÙƒØªØ§Ø¬Ø± ÙÙŠ Ù…Ù†ØµØ© LibyaParts!
                <br><br>
                ÙŠÙ‚ÙˆÙ… Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨Ùƒ.
                <br>
                Ø³ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙÙˆØ± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ.
            </p>

            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± -->
            <div class="flex items-center justify-center gap-2 text-orange-400 font-bold mb-6">
                <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
                <span class="loading-dots">
                    <span>.</span>
                    <span>.</span>
                    <span>.</span>
                </span>
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª -->
            <div class="flex flex-col gap-3">
                <button onclick="checkStatus()"
                    class="w-full py-3 rounded-xl font-bold text-white bg-gradient-to-l from-orange-500 to-amber-500 hover:opacity-90 transition-opacity flex items-center justify-center gap-2">
                    <i class="fas fa-sync-alt"></i>
                    ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©
                </button>

                <button onclick="logout()"
                    class="w-full py-3 rounded-xl font-bold text-gray-400 glass-card hover:text-white transition-colors flex items-center justify-center gap-2">
                    <i class="fas fa-sign-out-alt"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ -->
        <p class="text-gray-500 text-sm mt-6">
            Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        </p>
    </div>

    <!-- =====================================================
         JavaScript
         ===================================================== -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
        async function checkStatus() {
            const token = localStorage.getItem('token');

            if (!token) {
                window.location.href = '/auth.html';
                return;
            }

            try {
                const response = await axios.get('/api/auth/me', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.data.success) {
                    const user = response.data.user;

                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
                    localStorage.setItem('user', JSON.stringify(user));

                    if (user.isApproved) {
                        // ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©! ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                        alert('ğŸ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ. Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….');
                        window.location.href = '/dashboard.html';
                    } else {
                        alert('â³ Ù„Ø§ ÙŠØ²Ø§Ù„ Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.');
                    }
                }
            } catch (error) {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.');
            }
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/auth.html';
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user') || '{}');

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡ØŒ ØªÙˆØ¬ÙŠÙ‡Ù‡ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            if (user.isApproved) {
                window.location.href = '/dashboard.html';
            }
        });
    </script>
</body>

</html>